http://localhost:3000/


#### アセットコンパイル
rails assets:precompile RAILS_ENV=production
#### git add commit push origin

###デプロイ前には例外処理
config/environments/production.rb
config.consider_all_requests_local = falseに変更することでエラー画面表示

##ES6でエラー
config.assets.js_compressor = Uglifier.new(harmony: true)

##env.
以下にGOOGLEAPIKEY
helper localartist
layout applications

##heroku
git add commit heroku master
heroku run rails db:migrate
heroku run rails db:seed



# herokuでのシードデータ
 config/initializers/local.rbの:jaをコメントアウトしてからrails db:seed
（Heroku上でrails cを実行するためにはheroku run rails c、seedコマンドは、heroku run rails db:seedを実行）

# Heokuへのデプロイ
`$ git push heroku master `

# データベース移行(データベースの移行　マイグレーション必要な場合)
`$ heroku run rails db:migrate`

## 以下参考
## エラーが出た場合
`$  heroku buildpacks:add --index 1 heroku/nodejs`
## アドレス確認
`$ heroku config`
https://damp-atoll-65761.herokuapp.com/
## GithubにPushしたら自動デプロイについて
https://reasonable-code.com/github-push-heroku/






##ログインユーザーのみがブログ投稿できる。未ログインでも一覧表示は閲覧可能

class BlogsController < ApplicationController
  before_action :authenticate_user!, only: [:new, :create]
  def new
  end
  def create
  end
  def index
  end
end


##フォームの例

<%= form_with(model: @xxxx) do |form| %>
  <div class="blog_title">
    <%= form.label :title %>
    <%= form.text_field :title %>
  </div>
  <div class="blog_content">
    <%= form.label :content %>
    <%= form.text_field :content %>
  </div>
  <%= form.submit %>
<% end %>

###each
<% @blogs.each do |blog| %>
  <tr>
    <td><%= blog.title %></td>
    <td><%= blog.content %></td>
  </tr>
<% end %>


##bootstrap
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#gnavi">
        <span class="sr-only">Bootstrap</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Bootstrap
      </a>
    </div>
    <div id="gnavi" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li><a href="">top</a></li>
        <li><a href="">menu1</a></li>
        <li><a href="">menu2</a></li>
      </ul>
    </div>
  </div>
</nav>


###application.js 下記だとエラー
//= require rails-ujs
//= require activestorage
//= require jquery
//= require turbolinks

// https://diver.diveintocode.jp/curriculums/1265
//= require jquery_ujs

//= require jquery/dist/jquery.js
//= require bootstrap/dist/js/bootstrap.min
//= require_tree .


### jqueryがloadしないと動作しない場合
以下の二つの対策を行う
https://qiita.com/Terunaga/items/19d4f49f3abd3316f098
https://yurutsubu.com/rails-5-x-javascript-does-not-work-well-6745.html
Gemfile の turbolinks 行をコメントアウトする　の項目



##youtbe api  localartist/show
<% @youtube_data.each do |item| %>
  <table>
    <div class="user_profile_each">
      <tr>
        <td>
          <% snippet = item.snippet %><!-- <p>%= snippet.title %></p> -->
          <div><iframe width="250" height="250" src="https://www.youtube.com/embed/<%= item.id.video_id %>" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>

        </td>
      </tr>
    </div>
  </table>
  <% end %>

#youtube api   helperの　def find_videos(keyword,XXXXXX)
  , after: 6.months.ago, before: Time.now
